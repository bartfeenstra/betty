dist: xenial

language: python

matrix:
    include:
        - name: 'Latest: Python 3.7 & Node.js 10'
          python: '3.7'
          env:
              - NODE_VERSION=10
        - name: 'Python 3.6'
          python: '3.6'
          env:
              - NODE_VERSION=10
        - name: 'Python 3.5'
          python: '3.5'
          env:
              - NODE_VERSION=10
        - name: 'Node.js 8'
          python: '3.7'
          env:
              - NODE_VERSION=8

cache:
    - pip
    - npm

before_install:
    - nvm install "$NODE_VERSION"

install:
    - node --version
    - ./bin/build-dev

script:
    - ./bin/test

after_failure:
    - ls -la ~/.betty/*

after_success:
    - codecov
