dist: xenial

language: python

matrix:
    include:
        # Python 3.7 & Node.js 10.
        - name: 'Python 3.7'
          python: '3.5'
          node_js: '10'
        # Python 3.5.
        - name: 'Python 3.5'
          python: '3.5'
          node_js: '10'
        # Python 3.6.
        - name: 'Python 3.6'
          python: '3.5'
          node_js: '10'
        # Node.js 8.
        - name: 'Python 3.7'
          python: '3.5'
          node_js: '8'

cache:
    - pip
    - npm

install:
    - npm --version
    - npm config list --json
    - ./bin/build-dev

script:
    - ./bin/test

after_failure:
    - ls -la ~/.betty/*

after_success:
    - codecov
